{
  "openapi": "3.1.0",
  "info": {
    "title": "OpenAPI Plant Store",
    "description": "A sample API that uses a plant store as an example to demonstrate features in the OpenAPI specification",
    "license": {
      "name": "MIT"
    },
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "https://staging.thefaithapp.com"
    }
  ],
  "security": [
    {
      "bearerAuth": []
    }
  ],
  "paths": {
    "/v1/open/subscribe": {
      "post": {
        "summary": "Subscribe to Church",
        "description": "Subscribes a user to a church using their Firebase ID token and the client API key.",
        "tags": [
          "Open API"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "description": "Your client API key from the dashboard (Settings page).",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "description": "FCM token for the user's device.",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "fcm_token": {
                    "type": "string",
                    "description": "User's FCM device token."
                  }
                },
                "required": [
                  "fcm_token"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successfully subscribed user to church.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Church subscribed to Example Church"
                    },
                    "user": {
                      "type": "string",
                      "description": "Firebase UID of the user"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Missing or invalid API key or Firebase token.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error_message": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Client or Firebase credentials not found.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Client not found"
                    }
                  }
                }
              }
            }
          },
          "422": {
            "description": "Validation error (e.g., missing fcm_token).",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "properties": {
                        "fcm_token": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "example": [
                            "The fcm token field is required."
                          ]
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Failed to process subscription"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/open/audios": {
      "get": {
        "summary": "Get Audio Sermons",
        "description": "Retrieve a paginated list of audio sermons for the authenticated user's church. Supports optional search and pagination.",
        "tags": [
          "Open API"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "description": "Your client API key from the dashboard (Settings page).",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Search term to filter audio sermons.",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Page number for pagination (default: 1).",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Paginated list of audio sermons.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "current_page": {
                      "type": "integer",
                      "description": "Current page number of the result set.",
                      "example": 1
                    },
                    "data": {
                      "type": "array",
                      "description": "List of audio sermon objects.",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "description": "Unique identifier for the audio sermon.",
                            "example": 6
                          },
                          "client_id": {
                            "type": "integer",
                            "description": "ID of the church/client this audio belongs to.",
                            "example": 2
                          },
                          "category_id": {
                            "type": "integer",
                            "description": "ID of the category for this audio.",
                            "example": 2
                          },
                          "title": {
                            "type": "string",
                            "description": "Title of the audio sermon.",
                            "example": "Theme songs"
                          },
                          "description": {
                            "type": "string",
                            "description": "Description of the audio sermon.",
                            "example": "Honour music"
                          },
                          "source": {
                            "type": "string",
                            "format": "uri",
                            "description": "URL to the audio file or external audio link.",
                            "example": "https://d2c58p2vdu8kb2.cloudfront.net/audios/htE1gR0GTssLCZaVMKjTH6P1Q3w81dHz7KdyvVuJ.mp3"
                          },
                          "duration": {
                            "type": "string",
                            "description": "Duration of the audio in MM:SS format.",
                            "example": "02:59"
                          },
                          "media_type": {
                            "type": "string",
                            "description": "Type of audio source. `0` = uploaded audio file, `1` = provided audio link.",
                            "example": "0",
                            "enum": [
                              "0",
                              "1"
                            ]
                          },
                          "deleted_at": {
                            "type": [
                              "string",
                              "null"
                            ],
                            "format": "date-time",
                            "description": "Timestamp when the audio was deleted, or null if not deleted.",
                            "example": null
                          },
                          "created_at": {
                            "type": "string",
                            "format": "date-time",
                            "description": "Timestamp when the audio was created.",
                            "example": "2025-02-08T13:15:52.000000Z"
                          },
                          "updated_at": {
                            "type": "string",
                            "format": "date-time",
                            "description": "Timestamp when the audio was last updated.",
                            "example": "2025-02-08T13:15:52.000000Z"
                          },
                          "cover_photo": {
                            "type": "string",
                            "format": "uri",
                            "description": "URL to the cover photo image for the audio.",
                            "example": "https://d2c58p2vdu8kb2.cloudfront.net/cover_photo/XtzGozzqa6C8LIZ8RaAclJG7yO0Bj57JFlqTl3c2.jpg"
                          }
                        }
                      }
                    },
                    "first_page_url": {
                      "type": "string",
                      "format": "uri",
                      "description": "URL to the first page of results.",
                      "example": "https://app.thefaithapp.com/api/v1/open/audios?page=1"
                    },
                    "from": {
                      "type": "integer",
                      "description": "Index of the first item returned.",
                      "example": 1
                    },
                    "last_page": {
                      "type": "integer",
                      "description": "Last page number of the result set.",
                      "example": 1
                    },
                    "last_page_url": {
                      "type": "string",
                      "format": "uri",
                      "description": "URL to the last page of results.",
                      "example": "https://app.thefaithapp.com/api/v1/open/audios?page=1"
                    },
                    "links": {
                      "type": "array",
                      "description": "Pagination navigation links.",
                      "items": {
                        "type": "object",
                        "properties": {
                          "url": {
                            "type": [
                              "string",
                              "null"
                            ],
                            "format": "uri",
                            "description": "URL for the page link, or null if not available.",
                            "example": null
                          },
                          "label": {
                            "type": "string",
                            "description": "Label for the page link (e.g., 'Next', 'Previous', or page number).",
                            "example": "&laquo; Previous"
                          },
                          "active": {
                            "type": "boolean",
                            "description": "Whether this page link is active.",
                            "example": false
                          }
                        }
                      }
                    },
                    "next_page_url": {
                      "type": [
                        "string",
                        "null"
                      ],
                      "format": "uri",
                      "description": "URL to the next page of results, or null if on the last page.",
                      "example": null
                    },
                    "path": {
                      "type": "string",
                      "format": "uri",
                      "description": "Base path for the paginated results.",
                      "example": "https://app.thefaithapp.com/api/v1/open/audios"
                    },
                    "per_page": {
                      "type": "integer",
                      "description": "Number of items per page.",
                      "example": 30
                    },
                    "prev_page_url": {
                      "type": [
                        "string",
                        "null"
                      ],
                      "format": "uri",
                      "description": "URL to the previous page of results, or null if on the first page.",
                      "example": null
                    },
                    "to": {
                      "type": "integer",
                      "description": "Index of the last item returned.",
                      "example": 2
                    },
                    "total": {
                      "type": "integer",
                      "description": "Total number of items available.",
                      "example": 2
                    }
                  }
                },
                "examples": {
                  "success": {
                    "summary": "Successful response",
                    "value": {
                      "current_page": 1,
                      "data": [
                        {
                          "id": 6,
                          "client_id": 2,
                          "category_id": 2,
                          "title": "Theme songs",
                          "description": "Honour music",
                          "source": "https://d2c58p2vdu8kb2.cloudfront.net/audios/htE1gR0GTssLCZaVMKjTH6P1Q3w81dHz7KdyvVuJ.mp3",
                          "duration": "02:59",
                          "media_type": "0",
                          "deleted_at": null,
                          "created_at": "2025-02-08T13:15:52.000000Z",
                          "updated_at": "2025-02-08T13:15:52.000000Z",
                          "cover_photo": "https://d2c58p2vdu8kb2.cloudfront.net/cover_photo/XtzGozzqa6C8LIZ8RaAclJG7yO0Bj57JFlqTl3c2.jpg"
                        }
                      ],
                      "first_page_url": "https://app.thefaithapp.com/api/v1/open/audios?page=1",
                      "from": 1,
                      "last_page": 1,
                      "last_page_url": "https://app.thefaithapp.com/api/v1/open/audios?page=1",
                      "links": [
                        {
                          "url": null,
                          "label": "&laquo; Previous",
                          "active": false
                        },
                        {
                          "url": "https://app.thefaithapp.com/api/v1/open/audios?page=1",
                          "label": "1",
                          "active": true
                        },
                        {
                          "url": null,
                          "label": "Next &raquo;",
                          "active": false
                        }
                      ],
                      "next_page_url": null,
                      "path": "https://app.thefaithapp.com/api/v1/open/audios",
                      "per_page": 30,
                      "prev_page_url": null,
                      "to": 2,
                      "total": 2
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Missing or invalid API key or Firebase token.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error_message": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "User not found.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "User not found"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/open/videos": {
      "get": {
        "summary": "Get Video Sermons",
        "description": "Retrieve a paginated list of video sermons for the authenticated user's church. Supports optional search and pagination.",
        "tags": [
          "Open API"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "description": "Your client API key from the dashboard (Settings page).",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Search term to filter video sermons.",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Page number for pagination (default: 1).",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Paginated list of video sermons.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "current_page": {
                      "type": "integer",
                      "description": "Current page number of the result set.",
                      "example": 1
                    },
                    "data": {
                      "type": "array",
                      "description": "List of video sermon objects.",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "description": "Unique identifier for the video sermon.",
                            "example": 2
                          },
                          "client_id": {
                            "type": "integer",
                            "description": "ID of the church/client this video belongs to.",
                            "example": 2
                          },
                          "category_id": {
                            "type": "integer",
                            "description": "ID of the category for this video.",
                            "example": 2
                          },
                          "title": {
                            "type": "string",
                            "description": "Title of the video sermon.",
                            "example": "A Man Works For His Wife's Father While She Spends Time With Other Guys"
                          },
                          "description": {
                            "type": "string",
                            "description": "Description of the video sermon.",
                            "example": "Today we're reviewing the comedy-drama film from 2007..."
                          },
                          "source": {
                            "type": "string",
                            "description": "Video source identifier. For YouTube videos, this is the YouTube video ID. For uploaded videos, this may be a file name or path.",
                            "example": "AyWgmsUxXR8"
                          },
                          "duration": {
                            "type": "string",
                            "description": "Duration of the video in MM:SS format.",
                            "example": "22:01"
                          },
                          "media_type": {
                            "type": "string",
                            "description": "Type of video source. Possible values:\n- `2`: Upload MP4 Video\n- `3`: MP4 Video Link\n- `4`: YouTube Video ID\n- `5`: Vimeo Video ID\n- `6`: Dailymotion Video ID\n- `7`: MPD Video Link\n- `8`: M3U8 Video Link",
                            "example": "4",
                            "enum": [
                              "2",
                              "3",
                              "4",
                              "5",
                              "6",
                              "7",
                              "8"
                            ]
                          },
                          "deleted_at": {
                            "type": [
                              "string",
                              "null"
                            ],
                            "format": "date-time",
                            "description": "Timestamp when the video was deleted, or null if not deleted.",
                            "example": null
                          },
                          "created_at": {
                            "type": "string",
                            "format": "date-time",
                            "description": "Timestamp when the video was created.",
                            "example": "2025-02-08T12:58:14.000000Z"
                          },
                          "updated_at": {
                            "type": "string",
                            "format": "date-time",
                            "description": "Timestamp when the video was last updated.",
                            "example": "2025-02-08T12:58:14.000000Z"
                          },
                          "cover_photo": {
                            "type": "string",
                            "format": "uri",
                            "description": "URL to the cover photo image for the video.",
                            "example": "https://d2c58p2vdu8kb2.cloudfront.net/cover_photo/BbC3mhHtM7n1znGLGxnqWh4LzQIWCrFo2uyWKW2u.jpg"
                          }
                        }
                      }
                    },
                    "first_page_url": {
                      "type": "string",
                      "format": "uri",
                      "description": "URL to the first page of results.",
                      "example": "https://app.thefaithapp.com/api/v1/open/videos?page=1"
                    },
                    "from": {
                      "type": "integer",
                      "description": "Index of the first item returned.",
                      "example": 1
                    },
                    "last_page": {
                      "type": "integer",
                      "description": "Last page number of the result set.",
                      "example": 1
                    },
                    "last_page_url": {
                      "type": "string",
                      "format": "uri",
                      "description": "URL to the last page of results.",
                      "example": "https://app.thefaithapp.com/api/v1/open/videos?page=1"
                    },
                    "links": {
                      "type": "array",
                      "description": "Pagination navigation links.",
                      "items": {
                        "type": "object",
                        "properties": {
                          "url": {
                            "type": [
                              "string",
                              "null"
                            ],
                            "format": "uri",
                            "description": "URL for the page link, or null if not available.",
                            "example": null
                          },
                          "label": {
                            "type": "string",
                            "description": "Label for the page link (e.g., 'Next', 'Previous', or page number).",
                            "example": "&laquo; Previous"
                          },
                          "active": {
                            "type": "boolean",
                            "description": "Whether this page link is active.",
                            "example": false
                          }
                        }
                      }
                    },
                    "next_page_url": {
                      "type": [
                        "string",
                        "null"
                      ],
                      "format": "uri",
                      "description": "URL to the next page of results, or null if on the last page.",
                      "example": null
                    },
                    "path": {
                      "type": "string",
                      "format": "uri",
                      "description": "Base path for the paginated results.",
                      "example": "https://app.thefaithapp.com/api/v1/open/videos"
                    },
                    "per_page": {
                      "type": "integer",
                      "description": "Number of items per page.",
                      "example": 30
                    },
                    "prev_page_url": {
                      "type": [
                        "string",
                        "null"
                      ],
                      "format": "uri",
                      "description": "URL to the previous page of results, or null if on the first page.",
                      "example": null
                    },
                    "to": {
                      "type": "integer",
                      "description": "Index of the last item returned.",
                      "example": 2
                    },
                    "total": {
                      "type": "integer",
                      "description": "Total number of items available.",
                      "example": 2
                    }
                  }
                },
                "examples": {
                  "success": {
                    "summary": "Successful response",
                    "value": {
                      "current_page": 1,
                      "data": [
                        {
                          "id": 2,
                          "client_id": 2,
                          "category_id": 2,
                          "title": "A Man Works For His Wife's Father While She Spends Time With Other Guys",
                          "description": "Today we're reviewing the comedy-drama film from 2007. Get ready for incredible plot twists!\nA man marries a rich woman and works for her father. At the same time, his wife has a habit of inviting strangers to visit to get to know them better, which her husband does not know about.",
                          "source": "AyWgmsUxXR8",
                          "duration": "22:01",
                          "media_type": "4",
                          "deleted_at": null,
                          "created_at": "2025-02-08T12:58:14.000000Z",
                          "updated_at": "2025-02-08T12:58:14.000000Z",
                          "cover_photo": "https://d2c58p2vdu8kb2.cloudfront.net/cover_photo/BbC3mhHtM7n1znGLGxnqWh4LzQIWCrFo2uyWKW2u.jpg"
                        }
                      ],
                      "first_page_url": "https://app.thefaithapp.com/api/v1/open/videos?page=1",
                      "from": 1,
                      "last_page": 1,
                      "last_page_url": "https://app.thefaithapp.com/api/v1/open/videos?page=1",
                      "links": [
                        {
                          "url": null,
                          "label": "&laquo; Previous",
                          "active": false
                        },
                        {
                          "url": "https://app.thefaithapp.com/api/v1/open/videos?page=1",
                          "label": "1",
                          "active": true
                        },
                        {
                          "url": null,
                          "label": "Next &raquo;",
                          "active": false
                        }
                      ],
                      "next_page_url": null,
                      "path": "https://app.thefaithapp.com/api/v1/open/videos",
                      "per_page": 30,
                      "prev_page_url": null,
                      "to": 2,
                      "total": 2
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Missing or invalid API key or Firebase token.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error_message": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "User not found.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "User not found"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/open/streamings": {
      "get": {
        "summary": "Get Live Streamings",
        "description": "Retrieve the current live video and audio streaming information for the authenticated user's church.",
        "tags": [
          "Open API"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "description": "Your client API key from the dashboard (Settings page).",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Current live video and audio streaming information.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "video_streaming": {
                      "type": "object",
                      "description": "Information about the current live video stream.",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "description": "Unique identifier for the video stream.",
                          "example": 1
                        },
                        "live_title": {
                          "type": "string",
                          "description": "Title of the live video stream.",
                          "example": "REVERE 24/7 Worship Live Stream"
                        },
                        "source": {
                          "type": "string",
                          "description": "Type of video streaming source. Possible values:\n- `0`: RTMP Live\n- `1`: YouTube Live ID\n- `2`: M3U8 URL",
                          "example": "1",
                          "enum": [
                            "0",
                            "1",
                            "2"
                          ]
                        },
                        "live_stream_url": {
                          "type": "string",
                          "format": "uri",
                          "description": "URL to the live video stream (e.g., YouTube embed link).",
                          "example": "https://www.youtube.com/embed/M94RrCFqaw4?si=Ma17eZPBxSWfzZQi"
                        },
                        "live_status": {
                          "type": "integer",
                          "description": "Live status of the video stream. `0` = live, `1` = not live.",
                          "example": 0,
                          "enum": [
                            0,
                            1
                          ]
                        },
                        "client_id": {
                          "type": "integer",
                          "description": "ID of the church/client this stream belongs to.",
                          "example": 2
                        },
                        "deleted_at": {
                          "type": [
                            "string",
                            "null"
                          ],
                          "format": "date-time",
                          "description": "Timestamp when the stream was deleted, or null if not deleted.",
                          "example": null
                        },
                        "created_at": {
                          "type": "string",
                          "format": "date-time",
                          "description": "Timestamp when the stream was created.",
                          "example": "2025-05-02T21:50:44.000000Z"
                        },
                        "updated_at": {
                          "type": "string",
                          "format": "date-time",
                          "description": "Timestamp when the stream was last updated.",
                          "example": "2025-05-02T21:50:44.000000Z"
                        }
                      }
                    },
                    "audio_streaming": {
                      "type": "object",
                      "description": "Information about the current live audio stream.",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "description": "Unique identifier for the audio stream.",
                          "example": 1
                        },
                        "title": {
                          "type": "string",
                          "description": "Title of the audio stream.",
                          "example": "teste"
                        },
                        "stream_url": {
                          "type": "string",
                          "format": "uri",
                          "description": "URL to the live audio stream.",
                          "example": "https://stream.zeno.fm/h3d42qflyiquv"
                        },
                        "type": {
                          "type": "string",
                          "description": "Type identifier for the audio stream.",
                          "example": "0"
                        },
                        "status": {
                          "type": "string",
                          "description": "Live status of the audio stream. `0` = live, `1` = not live.",
                          "example": "0",
                          "enum": [
                            "0",
                            "1"
                          ]
                        },
                        "thumbnail": {
                          "type": "string",
                          "format": "uri",
                          "description": "URL to the thumbnail image for the audio stream.",
                          "example": "https://i0.wp.com/www.robertrickman.net/wp-content/uploads/2015/05/stock-footage-audio-spectrum-loop.jpg"
                        },
                        "client_id": {
                          "type": "integer",
                          "description": "ID of the church/client this stream belongs to.",
                          "example": 2
                        },
                        "deleted_at": {
                          "type": [
                            "string",
                            "null"
                          ],
                          "format": "date-time",
                          "description": "Timestamp when the stream was deleted, or null if not deleted.",
                          "example": null
                        },
                        "created_at": {
                          "type": "string",
                          "format": "date-time",
                          "description": "Timestamp when the stream was created.",
                          "example": "2025-05-02T21:50:13.000000Z"
                        },
                        "updated_at": {
                          "type": "string",
                          "format": "date-time",
                          "description": "Timestamp when the stream was last updated.",
                          "example": "2025-05-02T21:50:13.000000Z"
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "success": {
                    "summary": "Successful response",
                    "value": {
                      "video_streaming": {
                        "id": 1,
                        "live_title": "REVERE 24/7 Worship Live Stream",
                        "source": "1",
                        "live_stream_url": "https://www.youtube.com/embed/M94RrCFqaw4?si=Ma17eZPBxSWfzZQi",
                        "live_status": 0,
                        "client_id": 2,
                        "deleted_at": null,
                        "created_at": "2025-05-02T21:50:44.000000Z",
                        "updated_at": "2025-05-02T21:50:44.000000Z"
                      },
                      "audio_streaming": {
                        "id": 1,
                        "title": "teste",
                        "stream_url": "https://stream.zeno.fm/h3d42qflyiquv",
                        "type": "0",
                        "status": "0",
                        "thumbnail": "https://i0.wp.com/www.robertrickman.net/wp-content/uploads/2015/05/stock-footage-audio-spectrum-loop.jpg",
                        "client_id": 2,
                        "deleted_at": null,
                        "created_at": "2025-05-02T21:50:13.000000Z",
                        "updated_at": "2025-05-02T21:50:13.000000Z"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Missing or invalid API key or Firebase token.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error_message": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "User not found.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "User not found"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/open/devotionals": {
      "get": {
        "summary": "Get Devotionals",
        "description": "Retrieve a paginated list of devotionals for the authenticated user's church. Supports optional search and pagination.",
        "tags": [
          "Open API"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "description": "Your client API key from the dashboard (Settings page).",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Search term to filter devotionals.",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Page number for pagination (default: 1).",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Paginated list of devotionals.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "current_page": {
                      "type": "integer",
                      "description": "Current page number of the result set.",
                      "example": 1
                    },
                    "data": {
                      "type": "array",
                      "description": "List of devotional objects.",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "description": "Unique identifier for the devotional.",
                            "example": 1
                          },
                          "client_id": {
                            "type": "integer",
                            "description": "ID of the church/client this devotional belongs to.",
                            "example": 2
                          },
                          "thumbnail": {
                            "type": "string",
                            "format": "uri",
                            "description": "URL to the devotional's thumbnail image.",
                            "example": "https://d2c58p2vdu8kb2.cloudfront.net/devotionals/NIh2IeZv2g1k4AoNVhkoQarVWAkSAAnQLrr4DF7j.jpg"
                          },
                          "title": {
                            "type": "string",
                            "description": "Title of the devotional.",
                            "example": "Weâ€™re Not Mere Humans"
                          },
                          "author": {
                            "type": "string",
                            "description": "Author of the devotional.",
                            "example": "Chris Oyakhilome"
                          },
                          "content": {
                            "type": "string",
                            "description": "Main content of the devotional (may contain HTML).",
                            "example": "<div class=\"wp-block-media-text alignwide\">...</div>"
                          },
                          "bible_reading": {
                            "type": "string",
                            "description": "Bible reading section (may contain HTML).",
                            "example": "<p><strong><em>These things have I written unto you...</em></strong></p>"
                          },
                          "confession": {
                            "type": "string",
                            "description": "Confession section (may contain HTML).",
                            "example": "<p><strong>CONFESSION</strong></p>..."
                          },
                          "studies": {
                            "type": "string",
                            "description": "Further study section (may contain HTML).",
                            "example": "<p><strong>FURTHER STUDY:</strong></p>..."
                          },
                          "date": {
                            "type": "string",
                            "format": "date",
                            "description": "Date of the devotional.",
                            "example": "2025-05-03"
                          },
                          "created_at": {
                            "type": "string",
                            "format": "date-time",
                            "description": "Timestamp when the devotional was created.",
                            "example": "2025-05-03T06:04:22.000000Z"
                          },
                          "updated_at": {
                            "type": "string",
                            "format": "date-time",
                            "description": "Timestamp when the devotional was last updated.",
                            "example": "2025-05-03T06:07:05.000000Z"
                          },
                          "deleted_at": {
                            "type": [
                              "string",
                              "null"
                            ],
                            "format": "date-time",
                            "description": "Timestamp when the devotional was deleted, or null if not deleted.",
                            "example": null
                          },
                          "tags": {
                            "type": "string",
                            "description": "JSON-encoded array of tags for the devotional.",
                            "example": "[\"prayer\"]"
                          }
                        }
                      }
                    },
                    "first_page_url": {
                      "type": "string",
                      "format": "uri",
                      "description": "URL to the first page of results.",
                      "example": "https://app.thefaithapp.com/api/v1/open/devotionals?page=1"
                    },
                    "from": {
                      "type": "integer",
                      "description": "Index of the first item returned.",
                      "example": 1
                    },
                    "last_page": {
                      "type": "integer",
                      "description": "Last page number of the result set.",
                      "example": 1
                    },
                    "last_page_url": {
                      "type": "string",
                      "format": "uri",
                      "description": "URL to the last page of results.",
                      "example": "https://app.thefaithapp.com/api/v1/open/devotionals?page=1"
                    },
                    "links": {
                      "type": "array",
                      "description": "Pagination navigation links.",
                      "items": {
                        "type": "object",
                        "properties": {
                          "url": {
                            "type": [
                              "string",
                              "null"
                            ],
                            "format": "uri",
                            "description": "URL for the page link, or null if not available.",
                            "example": null
                          },
                          "label": {
                            "type": "string",
                            "description": "Label for the page link (e.g., 'Next', 'Previous', or page number).",
                            "example": "&laquo; Previous"
                          },
                          "active": {
                            "type": "boolean",
                            "description": "Whether this page link is active.",
                            "example": false
                          }
                        }
                      }
                    },
                    "next_page_url": {
                      "type": [
                        "string",
                        "null"
                      ],
                      "format": "uri",
                      "description": "URL to the next page of results, or null if on the last page.",
                      "example": null
                    },
                    "path": {
                      "type": "string",
                      "format": "uri",
                      "description": "Base path for the paginated results.",
                      "example": "https://app.thefaithapp.com/api/v1/open/devotionals"
                    },
                    "per_page": {
                      "type": "integer",
                      "description": "Number of items per page.",
                      "example": 30
                    },
                    "prev_page_url": {
                      "type": [
                        "string",
                        "null"
                      ],
                      "format": "uri",
                      "description": "URL to the previous page of results, or null if on the first page.",
                      "example": null
                    },
                    "to": {
                      "type": "integer",
                      "description": "Index of the last item returned.",
                      "example": 1
                    },
                    "total": {
                      "type": "integer",
                      "description": "Total number of items available.",
                      "example": 1
                    }
                  }
                },
                "examples": {
                  "success": {
                    "summary": "Successful response",
                    "value": {
                      "current_page": 1,
                      "data": [
                        {
                          "id": 1,
                          "client_id": 2,
                          "thumbnail": "https://d2c58p2vdu8kb2.cloudfront.net/devotionals/NIh2IeZv2g1k4AoNVhkoQarVWAkSAAnQLrr4DF7j.jpg",
                          "title": "Weâ€™re Not Mere Humans",
                          "author": "Chris Oyakhilome",
                          "content": "<div class=\"wp-block-media-text alignwide\">...</div>",
                          "bible_reading": "<p><strong><em>These things have I written unto you...</em></strong></p>",
                          "confession": "<p><strong>CONFESSION</strong></p>...",
                          "studies": "<p><strong>FURTHER STUDY:</strong></p>...",
                          "date": "2025-05-03",
                          "created_at": "2025-05-03T06:04:22.000000Z",
                          "updated_at": "2025-05-03T06:07:05.000000Z",
                          "deleted_at": null,
                          "tags": "[\"prayer\"]"
                        }
                      ],
                      "first_page_url": "https://app.thefaithapp.com/api/v1/open/devotionals?page=1",
                      "from": 1,
                      "last_page": 1,
                      "last_page_url": "https://app.thefaithapp.com/api/v1/open/devotionals?page=1",
                      "links": [
                        {
                          "url": null,
                          "label": "&laquo; Previous",
                          "active": false
                        },
                        {
                          "url": "https://app.thefaithapp.com/api/v1/open/devotionals?page=1",
                          "label": "1",
                          "active": true
                        },
                        {
                          "url": null,
                          "label": "Next &raquo;",
                          "active": false
                        }
                      ],
                      "next_page_url": null,
                      "path": "https://app.thefaithapp.com/api/v1/open/devotionals",
                      "per_page": 30,
                      "prev_page_url": null,
                      "to": 1,
                      "total": 1
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Missing or invalid API key or Firebase token.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error_message": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "User not found.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "User not found"
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "webhooks": {
    "/plant/webhook": {
      "post": {
        "description": "Information about a new plant added to the store",
        "requestBody": {
          "description": "Plant added to the store",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NewPlant"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Return a 200 status to indicate that the data was received successfully"
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Plant": {
        "required": [
          "name"
        ],
        "type": "object",
        "properties": {
          "name": {
            "description": "The name of the plant",
            "type": "string"
          },
          "tag": {
            "description": "Tag to specify the type",
            "type": "string"
          }
        }
      },
      "NewPlant": {
        "allOf": [
          {
            "$ref": "#/components/schemas/Plant"
          },
          {
            "required": [
              "id"
            ],
            "type": "object",
            "properties": {
              "id": {
                "description": "Identification number of the plant",
                "type": "integer",
                "format": "int64"
              }
            }
          }
        ]
      },
      "Error": {
        "required": [
          "error",
          "message"
        ],
        "type": "object",
        "properties": {
          "error": {
            "type": "integer",
            "format": "int32"
          },
          "message": {
            "type": "string"
          }
        }
      }
    },
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  }
}